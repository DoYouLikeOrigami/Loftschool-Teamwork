"use strict";var team9WatermarkGeneratorModule=function(){var e=function(){t()},t=function(){$(".btn_reset").on("click",function(){$(".img-upload").remove(),$(".img-watermark").remove(),$(".sidebar__form-input").val(""),$(".wrapper__img-resize").removeAttr("style"),$(".watermark__img-wrapper").removeAttr("style")}),$("#main-file").fileupload({dataType:"json",acceptFileTypes:/(\.|\/)(gif|jpe?g|png)$/i,disableImageResize:/Android(?!.*Chrome)|Opera/.test(window.navigator&&navigator.userAgent),url:"server/php/",add:function(e,t){console.log("add"),t.submit()},done:function(e,t){var a=t.result.files[0],i=$("<img></img>");i.attr("src",a.url),i.addClass("img-upload"),i.fadeIn(".wrapper__img-resize"),$(".wrapper__img-resize").html(i),i.load(function(){var e=$(this).width(),t=$(this).height(),a=$(".main__content").height(),r=$(".main__content").width(),n=r/a,o=function(e,t,a){i.addClass(e),$(".wrapper__img-resize").css({height:t+"px",width:a+"px"})};r>e&&a>t?o("",t,e):e/t>n?o("img-upload-widthR ",Math.round(r*t/e),r):o("img-upload-heightR ",a,Math.round(a*e/t))})}}),$("#water-file").fileupload({dataType:"json",acceptFileTypes:/(\.|\/)(gif|jpe?g|png)$/i,disableImageResize:/Android(?!.*Chrome)|Opera/.test(window.navigator&&navigator.userAgent),url:"server/php/",add:function(e,t){t.submit()},done:function(e,t){var a=t.result.files[0],i=$(".watermark__img-wrapper"),r=$("<img></img>");r.attr("src",a.url),r.addClass("img-watermark"),r.fadeIn(".watermark__img-wrapper"),i.html(r),r.load(function(){var e=$(this).width(),t=$(this).height(),a=$(".main__content").height(),n=$(".main__content").width(),o=n/a,s=function(e,t,a){r.addClass(e),i.css({height:t+"px",width:a+"px"})};n>e&&a>t?s("",t,e):e/t>o?s("img-upload-widthR ",Math.round(n*t/e),n):s("img-upload-heightR ",a,Math.round(a*e/t))})}}),$(document).ready(function(){a(),$("#main-file").on("change",i),$("#water-file").on("change",r)})},a=function(){$(".slider").length&&$(".slider").slider({range:!0,min:parseInt($(".slider").data("min")),max:parseInt($(".slider").data("max")),step:.01,values:[0,.5]})},i=function(e){e.preventDefault(),console.log($(this));var t=$(this),a=t.val();$("#main-text").val(a.replace(/C:\\fakepath\\/,""))},r=function(e){e.preventDefault(),console.log($(this));var t=$(this),a=t.val();$("#water-text").val(a.replace(/C:\\fakepath\\/,""))};return{init:e}}();team9WatermarkGeneratorModule.init();