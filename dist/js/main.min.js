"use strict";var team9WatermarkGeneratorModule=function(){var e=function(){a()},a=function(){$("#main-file").fileupload({dataType:"json",acceptFileTypes:/(\.|\/)(gif|jpe?g|png)$/i,disableImageResize:/Android(?!.*Chrome)|Opera/.test(window.navigator&&navigator.userAgent),url:"server/php/",add:function(e,a){console.log("add"),a.submit()},done:function(e,a){var i=a.result.files[0];$(".wrapÑ€er__img").length>0&&$(".img-upload").remove();var r=$("<img></img>");r.attr("src",i.url),r.addClass("img-upload"),r.fadeIn(".wrapper__img-resize"),r.appendTo(".wrapper__img-resize"),r.load(function(){var e=$(this).width(),a=$(this).height(),i=$(".main__content").height(),t=$(".main__content").width(),n=t/i,d=function(e,a,i){r.addClass(e),$(".wrapper__img-resize").css({height:a+"px",width:i+"px"})};t>e&&i>a?d("",a,e):e/a>n?d("img-upload-widthR ",Math.round(t*a/e),t):d("img-upload-heightR ",i,Math.round(i*e/a))})}}),$("#water-file").fileupload({dataType:"json",acceptFileTypes:/(\.|\/)(gif|jpe?g|png)$/i,disableImageResize:/Android(?!.*Chrome)|Opera/.test(window.navigator&&navigator.userAgent),url:"server/php/",add:function(e,a){a.submit()},done:function(e,a){var i=a.result.files[0];$(".watermark__img-wrapper");$(".wrapper__img-resize").append("<div class='watermark__img-wrapper'></div>");var r=$("<img></img>");r.attr("src",i.url),r.addClass("img-watermark"),r.fadeIn(".watermark__img-wrapper"),$(".watermark__img-wrapper").html(r),r.load(function(){var e=$(this).width(),a=$(this).height(),i=$(".watermark__img-wrapper").height(),t=$(".watermark__img-wrapper").width(),n=t/i,d=function(e,a,i){r.addClass(e),$(".watermark__img-wrapper").css({height:a+"px",width:i+"px"})};t>e&&i>a?d("",a,e):e/a>n?d("img-upload-widthR ",Math.round(t*a/e),t):d("img-upload-heightR ",i,Math.round(i*e/a))})}}),$(document).ready(function(){i(),$("#main-file").on("change",r),$("#water-file").on("change",t)})},i=function(){$(".slider").length&&$(".slider").slider({range:!0,min:parseInt($(".slider").data("min")),max:parseInt($(".slider").data("max")),step:.01,values:[0,.5]})},r=function(e){e.preventDefault(),console.log($(this));var a=$(this),i=a.val();$("#main-text").val(i.replace(/C:\\fakepath\\/,""))},t=function(e){e.preventDefault(),console.log($(this));var a=$(this),i=a.val();$("#water-text").val(i.replace(/C:\\fakepath\\/,""))};return{init:e}}();team9WatermarkGeneratorModule.init();